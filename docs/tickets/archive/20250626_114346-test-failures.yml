ai_usage:
  complexity_breakdown:
    medium_count: 1
  estimated_cost_usd: 0.15000000000000002
  interactions:
  - complexity: medium
    description: development - medium
    estimated_cost: 0.15000000000000002
    is_start_marker: false
    task_type: development
    timestamp: '2025-06-26T11:44:35.521061'
  total_interactions: 1
commit_hash: e1beea97
completion_checklist:
  ai_metrics_recorded: true
  code_implemented: true
  documentation_updated: false
  spec_defined: true
  story_extracted: false
  tests_passing: false
  tests_written: false
created_at: '2025-06-26T11:43:46.909058'
description: test-failures implementation
dev_log:
  sessions:
  - activities: []
    ai_interactions: []
    challenges: []
    date: '2025-06-26'
    decisions: []
    duration_minutes: 0
    end_time: null
    files_modified: []
    next_steps: []
    session_id: 1
    start_time: '11:43:46'
development:
  branch: ticket/test-failures
  code_review_status: pending
  commits: []
  files_changed:
  - frontend/src/components/assessment/__tests__/AssessmentResults.test.tsx
  - frontend/src/app/assessment/__tests__/page.test.tsx
  - frontend/src/components/layout/Header.test.tsx
  - docs/tickets/active/
  - frontend/src/app/api/assessment/__tests__/route.test.ts
  - frontend/src/lib/cms/content-service.ts
  - frontend/src/app/admin/content/edit/page.tsx
  - frontend/jest.setup.js
  - frontend/src/components/assessment/__tests__/AssessmentQuiz.test.tsx
  test_coverage: null
id: 20250626_114346-test-failures
name: test-failures
spec:
  acceptance_criteria:
  - 修復 AssessmentQuiz 測試中的翻譯和 mock 問題
  - 修復 AssessmentResults 測試中的翻譯鍵值對應
  - 修復 API route 測試中的 fs/promises mock 問題
  - 修復 login API 測試中的 NextResponse cookies mock
  - 修復 Header 測試中的 aria-label 對應問題
  - 所有測試必須通過
  feature: 修復所有失敗的前端測試
  out_of_scope:
  - 新增新的測試案例
  - 重構既有的測試架構
  purpose: 確保測試套件能夠正常運行，提高程式碼品質和可靠性
  technical_requirements:
  - 正確 mock 所有外部依賴
  - 確保翻譯鍵值與組件使用一致
  - 修復 React act() 警告
status: active
test_report:
  coverage:
    branches: 0
    functions: 0
    lines: 0
    statements: 0
  summary:
    duration_ms: 0
    failed: 0
    passed: 0
    skipped: 0
    total_tests: 0
  test_runs: []
time_tracking:
  actual_duration_minutes: 0
  ai_time_minutes: 0
  checkpoints: []
  completed_at: null
  human_time_minutes: 0
  started_at: '2025-06-26T11:43:46.909058'
type: fix
