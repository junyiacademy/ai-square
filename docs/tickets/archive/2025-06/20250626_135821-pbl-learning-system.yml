ai_usage:
  complexity_breakdown:
    medium_count: 5
  estimated_cost_usd: 0.7500000000000001
  interactions:
  - complexity: medium
    description: development - medium
    estimated_cost: 0.15000000000000002
    is_start_marker: false
    task_type: development
    timestamp: '2025-06-26T14:49:42.895756'
  - complexity: medium
    description: development - medium
    estimated_cost: 0.15000000000000002
    is_start_marker: false
    task_type: development
    timestamp: '2025-06-26T14:59:49.295717'
  - complexity: medium
    description: development - medium
    estimated_cost: 0.15000000000000002
    is_start_marker: false
    task_type: development
    timestamp: '2025-06-26T15:05:12.695341'
  - complexity: medium
    description: development - medium
    estimated_cost: 0.15000000000000002
    is_start_marker: false
    task_type: development
    timestamp: '2025-06-27T00:33:27.473356'
  - complexity: medium
    description: development - medium
    estimated_cost: 0.15000000000000002
    is_start_marker: false
    task_type: development
    timestamp: '2025-06-27T00:41:22.721582'
  total_interactions: 5
completion_checklist:
  ai_metrics_recorded: true
  code_implemented: true
  documentation_updated: true
  spec_defined: true
  tests_passing: true
  tests_written: true
created_at: '2025-06-26T13:58:21.642944'
description: pbl-learning-system implementation
dev_log:
  sessions:
  - activities: []
    ai_interactions: []
    challenges: []
    date: '2025-06-26'
    decisions: []
    duration_minutes: 0
    end_time: null
    files_modified: []
    next_steps: []
    session_id: 1
    start_time: '13:58:21'
development:
  branch: ticket/pbl-learning-system
  code_review_status: pending
  commits: []
  files_changed:
  - frontend/src/app/api/pbl/progress/
  - frontend/Dockerfile
  - frontend/package-lock.json
  - frontend/src/lib/ai/
  - frontend/src/app/api/pbl/history/
  - docs/tickets/active/20250626_135821-pbl-learning-system.yml
  - frontend/src/app/pbl/scenarios/[id]/learn/page.tsx
  - frontend/public/locales/zh-TW/pbl.json
  - frontend/src/app/api/pbl/sessions/[id]/route.ts
  - frontend/src/app/pbl/sessions/
  - frontend/src/app/pbl/history/
  - frontend/public/locales/en/pbl.json
  - frontend/src/lib/storage/pbl-gcs-service.ts
  - frontend/src/app/pbl/scenarios/[id]/learn/
  - frontend/package.json
  - frontend/src/components/pbl/KSAKnowledgeGraph.tsx
  - frontend/src/app/pbl/scenarios/[id]/complete/page.tsx
  - frontend/src/components/pbl/DomainRadarChart.tsx
  - ocs/tickets/active/20250626_135821-pbl-learning-system.yml
  - frontend/src/app/api/pbl/chat/
  - frontend/src/app/pbl/scenarios/[id]/page.tsx
  test_coverage: null
id: 20250626_135821-pbl-learning-system
name: pbl-learning-system
spec:
  acceptance_criteria:
  - 使用者可以在 /pbl/scenarios/[id]/learn 開始學習
  - 顯示當前階段和任務，支援階段切換
  - 整合 AI 對話功能（使用 Gemini）
  - 自動保存學習進度到 GCS
  - 歷史記錄頁面顯示所有過去的學習會話
  - 進度追蹤顯示完成的任務和階段
  - 支援中英文切換
  feature: PBL 完整學習系統
  out_of_scope:
  - 評分和認證系統
  - 社交分享功能
  - 離線學習支援
  purpose: 實作 PBL 學習介面、歷史記錄頁面和進度追蹤功能，提供完整的學習體驗
  technical_requirements:
  - 創建 /pbl/scenarios/[id]/learn 學習介面
  - 創建 /pbl/history 歷史記錄頁面
  - 實作進度追蹤組件和 API
  - 整合 GCS 儲存服務讀寫學習記錄
  - 使用 React hooks 管理學習狀態
  - 響應式設計支援行動裝置
status: completed
test_report:
  coverage:
    branches: 0
    functions: 0
    lines: 0
    statements: 0
  summary:
    duration_ms: 0
    failed: 0
    passed: 0
    skipped: 0
    total_tests: 0
  test_runs: []
time_tracking:
  actual_duration_minutes: 642
  ai_time_minutes: 0
  checkpoints: []
  completed_at: '2025-06-28T14:52:00.000000'
  human_time_minutes: 0
  started_at: '2025-06-26T13:58:21.642944'
type: feature
