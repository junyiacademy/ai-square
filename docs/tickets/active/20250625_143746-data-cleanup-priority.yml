ai_usage:
  complexity_breakdown:
    medium_count: 1
  estimated_cost_usd: 0.15000000000000002
  interactions:
  - complexity: medium
    description: development - medium
    estimated_cost: 0.15000000000000002
    is_start_marker: false
    task_type: development
    timestamp: '2025-06-25T15:05:11.903501'
  total_interactions: 1
commit_hash: 59543ee3
completion_checklist:
  ai_metrics_recorded: true
  code_implemented: true
  documentation_updated: false
  spec_defined: true
  story_extracted: false
  tests_passing: false
  tests_written: false
created_at: '2025-06-25T14:37:46.041592'
description: Clean up archived tickets data quality issues
dev_log:
  sessions:
  - activities:
    - 分析 archived tickets 資料品質問題
    - 定義清理需求和驗收條件
    - 規劃技術實作方案
    ai_interactions: []
    challenges:
    - 發現超過 70% 的 tickets 有空 sessions 問題
    - 檔名格式不一致，有多種命名模式
    - duration 計算邏輯不完整
    date: '2025-06-25'
    decisions:
    - 使用 Python script 進行批次處理
    - 保留原始檔案備份以防萬一
    - 實作 dry-run 模式先預覽變更
    duration_minutes: 5
    end_time: '14:42:46'
    files_modified:
    - docs/tickets/active/20250625_143746-data-cleanup-priority.yml
    next_steps:
    - 建立資料清理腳本
    - 實作各項清理功能
    session_id: 1
    start_time: '14:37:46'
development:
  branch: ticket/data-cleanup-priority
  code_review_status: pending
  commits: []
  files_changed:
  - docs/tickets/backup/2025-06/20250623_000000-test-commit-flow.yml
  - docs/tickets/archive/2025-06/20250623_014946-optimize-filename-length-limits-fix.yml
  - docs/tickets/archive/2025-06/20250624_002202-ai-commit-guard.yml
  - docs/tickets/archive/2025-06/20250623_000000-commit-guide.yml
  - docs/tickets/backup/2025-06/20250623_210107-workflow-automation-quality-gates.yml
  - docs/tickets/backup/2025-06/20250621_000000-Header-Login-Status.yml
  - docs/tickets/archive/2025-06/20250623_214122-ticket-management-system-parallel-development.yml
  - docs/tickets/backup/2025-06/20250623_022104-auto-generated-development-log.yml
  - docs/tickets/backup/2025-06/20250624_014219-fix-dev-logs-accuracy.yml
  - docs/tickets/backup/2025-06/20250624_123834-remove-specs-folder.yml
  - docs/tickets/archive/2025-06/20250623_014155-smart-commit-rules-auto-documentation.yml
  - docs/tickets/archive/2025-06/20250622_000000-Cleanup.yml
  - docs/tickets/backup/2025-06/20250623_014427-improve-filename-generation-auto-generated.yml
  - docs/tickets/backup/2025-06/20250622_000000-Frontend-Guide-Integration.yml
  - docs/tickets/backup/2025-06/20250622_000000-Documentation-Structure.yml
  - docs/tickets/backup/2025-06/20250622_000000-Architecture-Definition.yml
  - docs/tickets/backup/2025-06/20250623_014946-optimize-filename-length-limits-fix.yml
  - docs/tickets/archive/2025-06/20250623_035302-adr-017-dev-logs-structure-and-standards.yml
  - docs/tickets/archive/2025-06/20250624_015813-check-completed-tickets-duration.yml
  - docs/tickets/backup/2025-06/20250623_033530-update-four-files.yml
  - docs/tickets/archive/2025-06/20250624_141000-header-navigation-i18n.yml
  - docs/tickets/archive/2025-06/20250620_000000-Email-Login.yml
  - docs/tickets/backup/2025-06/20250623_214122-ticket-management-system-parallel-development.yml
  - docs/tickets/backup/2025-06/20250624_133015-secret-detection-precommit.yml
  - docs/tickets/backup/2025-06/20250623_212057-bugfix-filename-duplication-improvement-time.yml
  - docs/tickets/archive/2025-06/20250622_000000-Auto-Reflection-Story.yml
  - docs/tickets/backup/2025-06/20250623_020830-accidentally-added-commit_hash-fields-templates.yml
  - docs/tickets/archive/2025-06/20250624_004511-workflow-test-complete.yml
  - docs/tickets/archive/2025-06/20250623_020830-accidentally-added-commit_hash-fields-templates.yml
  - docs/tickets/backup/2025-06/20250623_033814-enhance-commit-message-generation.yml
  - docs/tickets/backup/2025-06/20250623_234228-test-bidirectional-linking.yml
  - docs/tickets/archive/2025-06/20250623_014204-auto-generated-development-logs-stories.yml
  - docs/tickets/archive/2025-06/20250623_234738-bugfix-time-calculations-bidirectional-ticket.yml
  - docs/tickets/archive/2025-06/20250623_032602-update-three-files.yml
  - docs/tickets/backup/2025-06/20250624_013101-fix-post-commit-ticket-update.yml
  - docs/tickets/archive/2025-06/20250622_000000-Learning-Progress-Tracker.yml
  - docs/tickets/archive/2025-06/20250622_000000-Restructure.yml
  - docs/tickets/backup/2025-06/20250623_022048-update-eight-files.yml
  - docs/tickets/backup/2025-06/20250623_211520-improvement-changelog-enhancement-system-analyze.yml
  - docs/tickets/archive/2025-06/20250622_000000-Architecture-Definition.yml
  - docs/tickets/archive/2025-06/20250624_133015-secret-detection-precommit.yml
  - docs/tickets/backup/2025-06/20250623_014155-smart-commit-rules-auto-documentation.yml
  - docs/tickets/backup/2025-06/20250623_022431-disable-problematic-git-hooks-clean.yml
  - docs/tickets/archive/2025-06/20250623_022048-update-eight-files.yml
  - docs/tickets/archive/2025-06/20250622_000000-Handbook-Reorganize.yml
  - docs/tickets/archive/2025-06/20250623_000000-page.yml
  - docs/tickets/archive/2025-06/20250623_000000-test-commit-flow.yml
  - docs/tickets/archive/2025-06/20250623_212057-bugfix-filename-duplication-improvement-time.yml
  - docs/tickets/archive/2025-06/20250623_234228-test-bidirectional-linking.yml
  - docs/tickets/backup/2025-06/20250623_000000-docs-refactor-update-update-t.yml
  - docs/tickets/archive/2025-06/20250623_030129-update-two-files.yml
  - docs/tickets/archive/2025-06/20250623_000000-docs-refactor-update-update-t.yml
  - docs/tickets/archive/2025-06/20250623_000000-docs-docs-refactor.yml
  - docs/tickets/backup/2025-06/20250624_125138-ksa-display-page.yml
  - docs/tickets/archive/2025-06/20250624_002155-makefile.yml
  - docs/tickets/backup/2025-06/20250624_162353-auto-reports-cleanup.yml
  - docs/tickets/archive/2025-06/20250624_013235-pre-commit-post-commit-documentation.yml
  - docs/tickets/backup/2025-06/20250624_002202-ai-commit-guard.yml
  - docs/tickets/archive/2025-06/20250621_000000-Header-Login-Status.yml
  - docs/tickets/backup/2025-06/20250623_030224-update-two-files.yml
  - docs/tickets/backup/2025-06/20250624_141000-header-navigation-i18n.yml
  - docs/tickets/archive/2025-06/20250624_014219-fix-dev-logs-accuracy.yml
  - docs/tickets/backup/2025-06/20250623_031009-update-three-files.yml
  - docs/tickets/archive/2025-06/20250623_235811-makefile.yml
  - docs/tickets/archive/2025-06/20250624_010107-fix-ticket-init-system.yml
  - docs/tickets/backup/2025-06/20250624_011713-single-ticket-commit.yml
  - docs/tickets/archive/2025-06/20250624_014222-fix-dev-logs-accuracy.yml
  - docs/tickets/archive/2025-06/20250623_033814-enhance-commit-message-generation.yml
  - docs/tickets/archive/2025-06/20250623_234640-fix-dev-system-improvements.yml
  - docs/tickets/archive/2025-06/20250624_124250-fix-ticket-completion-workflow.yml
  - docs/tickets/backup/2025-06/20250622_000000-Homepage-Login.yml
  - docs/tickets/archive/2025-06/20250623_031415-fix-time-calculation-int-to.yml
  - docs/tickets/archive/2025-06/20250624_234459-docs-restructure.yml
  - docs/tickets/backup/2025-06/20250623_011352-update-three-files.yml
  - docs/tickets/backup/2025-06/20250624_010819-test-addition-tests.yml
  - docs/tickets/archive/2025-06/20250623_020841-remaining-auto-generated-development.yml
  - docs/tickets/backup/2025-06/20250623_020841-remaining-auto-generated-development.yml
  - docs/tickets/archive/2025-06/20250623_022431-disable-problematic-git-hooks-clean.yml
  - docs/tickets/backup/2025-06/20250623_031415-fix-time-calculation-int-to.yml
  - docs/tickets/backup/2025-06/20250623_014848-implement-comprehensive-file-naming-conventions.yml
  - docs/tickets/backup/2025-06/20250623_035235-refactor-update-update-two-files.yml
  - docs/tickets/backup/2025-06/20250623_012631-update-ten-files.yml
  - docs/tickets/backup/2025-06/20250624_010107-fix-ticket-init-system.yml
  - docs/tickets/backup/2025-06/20250622_000000-Learning-Progress-Tracker.yml
  - docs/tickets/archive/2025-06/20250623_014427-improve-filename-generation-auto-generated.yml
  - docs/tickets/archive/2025-06/20250623_032943-auto-commit-txt.yml
  - docs/tickets/archive/2025-06/20250623_014145-implement-smart-commit-analysis-githooks.yml
  - docs/tickets/archive/2025-06/20250623_020758-implement-one-time-script-cleanup.yml
  - docs/tickets/backup/2025-06/20250623_020758-implement-one-time-script-cleanup.yml
  - docs/tickets/backup/2025-06/20250623_000000-claude.yml
  - docs/tickets/archive/2025-06/20250624_010819-test-addition-tests.yml
  - docs/tickets/backup/2025-06/20250622_000000-Handbook-Reorganize.yml
  - docs/tickets/archive/2025-06/20250623_211520-improvement-changelog-enhancement-system-analyze.yml
  - docs/tickets/backup/2025-06/20250622_000000-Auto-Reflection-Story.yml
  - docs/tickets/archive/2025-06/20250623_031009-update-three-files.yml
  - docs/tickets/archive/2025-06/20250623_035235-refactor-update-update-two-files.yml
  - docs/tickets/archive/2025-06/20250623_033530-update-four-files.yml
  - docs/tickets/active/20250625_143746-data-cleanup-priority.yml
  - docs/tickets/archive/2025-06/20250624_013101-fix-post-commit-ticket-update.yml
  - docs/tickets/backup/2025-06/20250623_014145-implement-smart-commit-analysis-githooks.yml
  - docs/tickets/backup/2025-06/20250623_035302-adr-017-dev-logs-structure-and-standards.yml
  - docs/tickets/backup/2025-06/20250624_120817-test-new-workflow.yml
  - docs/tickets/archive/2025-06/20250623_000000-ai-commit-guard.yml
  - docs/tickets/backup/2025-06/20250623_014204-auto-generated-development-logs-stories.yml
  - docs/tickets/backup/2025-06/20250623_234640-fix-dev-system-improvements.yml
  - docs/tickets/archive/2025-06/20250624_000009-test-implementation.yml
  - docs/tickets/backup/2025-06/20250623_040649-simplify-dev-logs-structure-by.yml
  - docs/tickets/archive/2025-06/20250623_011352-update-three-files.yml
  - docs/tickets/backup/2025-06/20250623_000000-page.yml
  - docs/tickets/archive/2025-06/20250622_000000-Homepage-Login.yml
  - docs/tickets/backup/2025-06/20250622_000000-Restructure.yml
  - docs/tickets/backup/2025-06/20250624_014222-fix-dev-logs-accuracy.yml
  - docs/tickets/archive/2025-06/20250624_120817-test-new-workflow.yml
  - docs/tickets/backup/2025-06/20250624_000009-test-implementation.yml
  - docs/tickets/backup/2025-06/20250622_000000-Cleanup.yml
  - docs/tickets/archive/2025-06/20250623_014848-implement-comprehensive-file-naming-conventions.yml
  - docs/tickets/archive/2025-06/20250624_131154-implement-proper-tdd-workflow.yml
  - docs/tickets/archive/2025-06/20250623_012631-update-ten-files.yml
  - docs/tickets/archive/2025-06/20250623_210107-workflow-automation-quality-gates.yml
  - docs/scripts/cleanup-archived-tickets.py
  - docs/tickets/backup/2025-06/20250624_013235-pre-commit-post-commit-documentation.yml
  - docs/tickets/backup/2025-06/20250623_000000-commit-guide.yml
  - docs/tickets/archive/2025-06/20250624_123834-remove-specs-folder.yml
  - docs/tickets/archive/2025-06/20250622_000000-Frontend-Guide-Integration.yml
  - docs/tickets/backup/2025-06/20250623_234738-bugfix-time-calculations-bidirectional-ticket.yml
  - docs/tickets/backup/2025-06/20250623_032602-update-three-files.yml
  - docs/tickets/backup/2025-06/20250623_000000-docs-docs-refactor.yml
  - docs/tickets/archive/2025-06/20250623_030224-update-two-files.yml
  - docs/tickets/archive/2025-06/2025-06-24-23-44-59-docs-restructure.yml -> docs/tickets/backup/2025-06/2025-06-24-23-44-59-docs-restructure.yml
  - docs/tickets/archive/2025-06/20250622_000000-Improvements-Location.yml
  - docs/tickets/backup/2025-06/20250622_000000-Architecture-Completion.yml
  - docs/tickets/backup/2025-06/20250623_235811-makefile.yml
  - docs/tickets/backup/2025-06/20250624_124250-fix-ticket-completion-workflow.yml
  - docs/tickets/backup/2025-06/20250623_000000-ai-commit-guard.yml
  - docs/tickets/archive/2025-06/20250624_162353-auto-reports-cleanup.yml
  - docs/tickets/archive/2025-06/20250623_022104-auto-generated-development-log.yml
  - docs/tickets/backup/2025-06/20250620_000000-Email-Login.yml
  - docs/tickets/archive/2025-06/20250622_000000-Documentation-Structure.yml
  - docs/tickets/backup/2025-06/20250623_030129-update-two-files.yml
  - docs/tickets/backup/2025-06/20250624_015813-check-completed-tickets-duration.yml
  - docs/tickets/archive/2025-06/20250623_040649-simplify-dev-logs-structure-by.yml
  - docs/tickets/backup/2025-06/20250624_002155-makefile.yml
  - docs/tickets/archive/2025-06/20250623_000000-claude.yml
  - docs/tickets/archive/2025-06/20250624_125138-ksa-display-page.yml
  - docs/tickets/backup/2025-06/20250624_131154-implement-proper-tdd-workflow.yml
  - docs/tickets/archive/2025-06/20250622_000000-Architecture-Completion.yml
  - docs/tickets/backup/2025-06/20250623_032943-auto-commit-txt.yml
  - docs/tickets/backup/2025-06/20250624_004511-workflow-test-complete.yml
  - docs/tickets/archive/2025-06/20250624_011713-single-ticket-commit.yml
  - docs/tickets/backup/2025-06/20250622_000000-Improvements-Location.yml
  test_coverage: null
id: 20250625_143746-data-cleanup-priority
name: data-cleanup-priority
spec:
  acceptance_criteria:
  - 所有 archived tickets 的檔名格式統一為 YYYYMMDD_HHMMSS-ticket-name.yml
  - 移除所有空的 sessions (超過 70% tickets 有此問題)
  - 修正 duration 計算，確保 actual_duration_minutes 有正確值
  - 補充缺失的必要欄位 (id, type, status)
  - 生成詳細的清理報告，顯示修改前後對比
  feature: 資料清理優先 - 修復 archived tickets 的資料品質問題
  out_of_scope:
  - 不會刪除任何 tickets，只做資料清理
  - 不會改變 ticket 的業務邏輯內容
  - 不會修改 active tickets
  purpose: 清理 archived tickets 中的資料品質問題，確保後續分析和報告的準確性
  technical_requirements:
  - 建立 Python script 來批次處理所有 archived tickets
  - 實作資料驗證函數檢查各欄位完整性
  - 保留原始檔案備份在 backup 目錄
  - 支援 dry-run 模式預覽變更
  - 產生 JSON/YAML 格式的清理報告
status: active
test_report:
  coverage:
    branches: 0
    functions: 0
    lines: 0
    statements: 0
  summary:
    duration_ms: 0
    failed: 0
    passed: 0
    skipped: 0
    total_tests: 0
  test_runs: []
time_tracking:
  actual_duration_minutes: 0
  ai_time_minutes: 0
  checkpoints: []
  completed_at: null
  human_time_minutes: 0
  started_at: '2025-06-25T14:37:46.041592'
type: refactor
