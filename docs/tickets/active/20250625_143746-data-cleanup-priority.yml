ai_usage:
  complexity_breakdown: {}
  estimated_cost_usd: 0.0
  interactions: []
  total_interactions: 0
completion_checklist:
  ai_metrics_recorded: false
  code_implemented: false
  documentation_updated: false
  spec_defined: true
  story_extracted: false
  tests_passing: false
  tests_written: false
created_at: '2025-06-25T14:37:46.041592'
description: Clean up archived tickets data quality issues
dev_log:
  sessions:
  - activities:
    - '分析 archived tickets 資料品質問題'
    - '定義清理需求和驗收條件'
    - '規劃技術實作方案'
    ai_interactions: []
    challenges:
    - '發現超過 70% 的 tickets 有空 sessions 問題'
    - '檔名格式不一致，有多種命名模式'
    - 'duration 計算邏輯不完整'
    date: '2025-06-25'
    decisions:
    - '使用 Python script 進行批次處理'
    - '保留原始檔案備份以防萬一'
    - '實作 dry-run 模式先預覽變更'
    duration_minutes: 5
    end_time: '14:42:46'
    files_modified:
    - 'docs/tickets/active/20250625_143746-data-cleanup-priority.yml'
    next_steps:
    - '建立資料清理腳本'
    - '實作各項清理功能'
    session_id: 1
    start_time: '14:37:46'
development:
  branch: ticket/data-cleanup-priority
  code_review_status: pending
  commits: []
  files_changed: []
  test_coverage: null
id: 20250625_143746-data-cleanup-priority
name: data-cleanup-priority
spec:
  acceptance_criteria:
  - '所有 archived tickets 的檔名格式統一為 YYYYMMDD_HHMMSS-ticket-name.yml'
  - '移除所有空的 sessions (超過 70% tickets 有此問題)'
  - '修正 duration 計算，確保 actual_duration_minutes 有正確值'
  - '補充缺失的必要欄位 (id, type, status)'
  - '生成詳細的清理報告，顯示修改前後對比'
  feature: 資料清理優先 - 修復 archived tickets 的資料品質問題
  out_of_scope:
  - '不會刪除任何 tickets，只做資料清理'
  - '不會改變 ticket 的業務邏輯內容'
  - '不會修改 active tickets'
  purpose: '清理 archived tickets 中的資料品質問題，確保後續分析和報告的準確性'
  technical_requirements:
  - '建立 Python script 來批次處理所有 archived tickets'
  - '實作資料驗證函數檢查各欄位完整性'
  - '保留原始檔案備份在 backup 目錄'
  - '支援 dry-run 模式預覽變更'
  - '產生 JSON/YAML 格式的清理報告'
status: active
test_report:
  coverage:
    branches: 0
    functions: 0
    lines: 0
    statements: 0
  summary:
    duration_ms: 0
    failed: 0
    passed: 0
    skipped: 0
    total_tests: 0
  test_runs: []
time_tracking:
  actual_duration_minutes: 0
  ai_time_minutes: 0
  checkpoints: []
  completed_at: null
  human_time_minutes: 0
  started_at: '2025-06-25T14:37:46.041592'
type: refactor
