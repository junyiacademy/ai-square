# ADR-005: 自動文檔生成系統

**日期**: 2025-06-23
**狀態**: 已接受
**決策者**: Claude + Human

## 背景

在完成重要的開發工作並提交代碼後，經常發現缺少對應的：
- 開發日誌 (dev-logs)
- 經驗故事 (stories)
- 決策記錄 (decisions)

這導致知識流失和額外的手動工作。

## 決策

實現一個自動文檔生成系統，在每次 commit 後：
1. 自動生成開發日誌
2. 分析提交內容生成故事
3. 記錄重要決策

## 選項考慮

### 選項 1: 手動提醒
- 優點：簡單，不需要額外開發
- 缺點：容易遺忘，增加心智負擔

### 選項 2: Pre-commit 檢查
- 優點：強制執行
- 缺點：可能阻礙快速提交

### 選項 3: Post-commit 自動生成 ✅
- 優點：不阻礙開發流程，自動化程度高
- 缺點：需要開發複雜的分析系統

## 實現方案

1. **Post-commit Hook**
   - 在提交完成後自動觸發
   - 不影響提交速度

2. **智能分析**
   - 解析 git diff 和 commit message
   - 分析文件類型和變更模式
   - 提取關鍵信息

3. **AI 輔助**
   - 利用 AI 分析對話歷史
   - 提取決策和洞察
   - 生成有意義的故事

## 影響

- **正面**：減少文檔債務，保留開發知識，提高團隊效率
- **負面**：增加系統複雜度，需要維護額外腳本

## 後續行動

- [ ] 開發 post-commit-doc-gen.py
- [ ] 整合到現有 commit 流程
- [ ] 添加 AI 對話分析功能
- [ ] 測試和優化生成質量