# Weekly Report - 2025-09-12

**Week Period:** 2025-09-06 to 2025-09-12

**Total Commits:** 153

---

## ğŸ“Š Summary

- âœ¨ Features: 22
- ğŸ› Bug Fixes: 82
- ğŸ§ª Tests: 4
- ğŸ“š Documentation: 8
- ğŸ”§ Refactor & Chore: 21
- ğŸ“¦ Other: 16

## ğŸ’¬ CEO Slack Message

```
*Week 09/06 - 09/12*

**Key Achievements:**
â€¢ âœ¨ 22 new features shipped
â€¢ ğŸ› 82 bugs fixed
â€¢ ğŸ“š Documentation updates

**Activity:** 153 commits | ğŸš€ High velocity
**Breakdown:** 22 features, 82 fixes, 4 tests
```

## âœ¨ Features

- **[ce692844]** feat: add staging database reset and clear actions
- **[bdd77faf]** feat: standardize evaluation type naming across all learning modes
- **[0516ea30]** feat: consolidate Prisma migrations and add GitHub Actions monitoring docs
- **[5549b735]** feat: implement database migration strategy - staging auto, production manual
- **[bde8c400]** feat: implement comprehensive Prisma schema consistency checking system
- **[158d9251]** feat: simplify Vertex AI authentication using environment variable
- **[0d13b239]** feat: add debug endpoint for Vertex AI troubleshooting
- **[18e663df]** feat: disable Discovery navigation with coming soon tooltip
- **[c39324ae]** feat: temporarily disable Discovery navigation link
- **[a5d9cadf]** feat: add GitHub secrets diagnostic script
- **[cddb0f39]** feat: add schema validation job to CI/CD pipeline
- **[695cc9ff]** feat: optimize git hooks with stages configuration
- **[eb730307]** feat: centralize all git hooks in .pre-commit-config.yaml
- **[90d65e3a]** feat: comprehensive pre-commit checks
- **[96b8a9bb]** feat: add professional pre-commit configuration
- **[c6156927]** feat: add database initialization admin page
- **[c19a7fc2]** feat: add database initialization admin page
- **[06a31487]** feat: complete auto-deploy workflow with all required steps
- **[8b30225e]** feat: implement KSA CDN deployment to reduce Cloud Run costs
- **[8114b2ac]** feat: add comprehensive agent suite for project quality management
- **[49898d8f]** feat: add Project Guardian meta-agent
- **[88b6bdab]** feat(auth): add email-based auth flows (register, verify, forgot/reset password) with Gmail SMTP; enforce email verification on login; add tests with nodemailer and DB pool mocks

## ğŸ› Bug Fixes

- **[644e006c]** fix: remove service account requirement from staging deployment
- **[1e14dd56]** fix: add Google Cloud authentication to staging deployment
- **[7821ba78]** fix: unify lastActivityAt to use updatedAt field and add staging DB reset
- **[13e6ce21]** fix: correct demo account passwords to match frontend LoginForm
- **[f00de327]** fix: update staging reset API to match database schema
- **[3bfacd28]** fix: complete staging database reset functionality
- **[365287a8]** fix: improve PBL UI with multilingual rendering and collapsible programs
- **[0c4ed8f3]** fix: resolve KSA radar chart showing 0% for all domains
- **[38855400]** fix: unify Assessment API response format to use 'total' instead of 'totalCount'
- **[6a1e30bf]** fix: update to actions/upload-artifact@v4 to fix deprecated version error
- **[3abe03fb]** fix: use correct workflow file and clean up migrations
- **[f1f59f39]** fix: remove conflicting baseline migration and simplify CI/CD
- **[c5cf35a2]** fix: handle failed migration records in database before applying
- **[165c5416]** fix: improve baseline migration handling in CI/CD pipeline
- **[529faa1c]** fix: handle baseline migration for existing databases in staging CI/CD
- **[dbe4e875]** fix: resolve assessment completion API schema compatibility
- **[0b67f111]** fix: use env-vars-file for Cloud Run deployment to handle JSON properly
- **[2c7da086]** fix: use VERTEX_AI_KEY secret for Vertex AI authentication in staging
- **[736c4e83]** fix: change VERTEX_AI_LOCATION to us-central1
- **[766a8a76]** fix: update test expectations from us-central1 to asia-east1
- **[d06d69f9]** fix: remove all hardcoded us-central1 regions
- **[4bd9a550]** fix: environment variable expansion in CI/CD
- **[755575f9]** fix: eslint warnings in vertex-ai-service.ts
- **[756e49bc]** fix: correct Vertex AI region to asia-east1 for B solution
- **[921741aa]** fix: implement B solution for Vertex AI auth using GitHub secrets
- **[59ce230b]** fix: use metadata service for Vertex AI auth in Cloud Run
- **[7056c8b3]** fix: resolve cookie domain issue for authentication
- **[de5d870c]** fix: remove right header completion button, keep left panel View Report link
- **[3bb7ab41]** fix: remove View Report button from PBL task page header
- **[2d18de4f]** fix: add pre-push hook for TypeScript and ESLint checks
- **[b4fd2920]** fix: set PBL scenarios to active status on init
- **[1a99491b]** fix: improve Discovery link disabled state with href
- **[d9c3c2be]** fix: resolve TypeScript errors in Header component
- **[579f899b]** fix: update test configurations to use port 5433
- **[f728f5a2]** fix: resolve all unit test failures
- **[ac4abf8f]** fix: resolve TypeScript compilation errors blocking deployment
- **[a5e6f8b6]** fix: clear evaluationOutdated flag even when scores unchanged
- **[c1c35ca7]** fix: enable automatic program evaluation recalculation when evaluationOutdated flag is set
- **[e34577d9]** fix: always mark program as outdated when task is evaluated
- **[0e598485]** fix: properly overwrite task evaluation when re-evaluating
- **[af068069]** fix: display correct KSA scores for each task in completion page
- **[33d404bd]** fix: improve PBL evaluation scoring logic for domain scores
- **[43c9b110]** fix: automatically update program evaluation when tasks are evaluated
- **[918553ac]** fix: PBL task interactions not rendering on page refresh
- **[27029b1d]** fix: use task_index for sorting tasks in PBL completion page
- **[86ec986d]** fix: remove task sorting in init-pbl to preserve YAML order
- **[6cde6ed6]** fix: sort PBL tasks by task ID in init-pbl to ensure correct order
- **[2eb996f4]** fix: store taskIds in program metadata to fix Continue button navigation
- **[6fe5cf9e]** fix: change Vertex AI default location from asia-east1 to us-central1
- **[902744ab]** fix: include all YAML fields in assessment initialization including ksa_mapping
- **[0cef9ad3]** fix: remove Practice Similar Questions button from QuestionReview component
- **[409b0f17]** fix: display correct/incorrect answer indicators in Assessment completion page
- **[9e4a321f]** fix: handle 0.0.0.0 hostname in Cloud Run for internal API calls
- **[8ae41ca7]** fix: align production Dockerfile with staging for Prisma support
- **[11d9f8d7]** fix: set correct environment for production Dockerfile
- **[f8773398]** fix: add prisma generate before build in Dockerfile
- **[2c2d96fd]** fix: apply pre-commit formatting fixes
- **[3aa2ed61]** fix: disable distributed cache in completion API to avoid Redis SSL errors
- **[8109782f]** fix: switch from Cloud Build to direct Docker deployment to handle multi-line VERTEX_AI_KEY
- **[d094e13c]** fix: hardcode DB_HOST values to avoid shell interpretation issues
- **[38105763]** fix: handle DB_HOST with special characters properly
- **[85b82b32]** fix: complete CI/CD fixes with automatic GCR cleanup and better error handling
- **[0d69702a]** fix: improve CI/CD environment variable handling and debugging
- **[f1689db7]** fix: add quotes to gcloud build submit parameters to handle special characters in secrets
- **[49de3ce4]** fix: pass environment variable substitutions to Cloud Build
- **[3d3411a5]** fix: add Google Cloud authentication to schema-validation job
- **[420efc8f]** fix: migrate pre-commit config to use pre-push stage
- **[61520239]** fix: resolve TypeScript errors in authentication system
- **[aaa32583]** fix: permanent authentication solution with PostgreSQL sessions
- **[e9c78ea0]** fix: increase database connection timeout for seed-users API
- **[fab92a46]** fix: remove substitutions to fix deployment
- **[06ef0797]** fix: correct substitutions syntax in Cloud Build command
- **[fcab458e]** fix: enable staging branch deployment in workflow
- **[a3ba6f81]** fix: use --ignore-scripts flag to skip husky in Docker builds
- **[d7978c36]** fix: skip husky installation in Docker builds
- **[d2cad30d]** fix: prevent caching empty scenario results
- **[d9216d14]** fix: properly handle PBL task instructions display
- **[492500dc]** fix: UI improvements and code quality fixes
- **[b19c58e3]** fix: add YAML frontmatter to all agent definitions and rename project-guardian to agents-manager
- **[7164a3bb]** fix: add scenario_task_index to task creation in repository
- **[ce892a5f]** fix: TypeScript errors in init-pbl route
- **[232733c9]** fix: PBL instructions and description display issues

## ğŸ§ª Tests

- **[a68f3e56]** test: fix QuestionReview tests after removing Practice Again button
- **[c790b50e]** test: verify pre-commit hook is working
- **[7fa77745]** test: trigger staging CI/CD to test database creation
- **[f64e85f3]** test: fix QuestionReview tests after removing Practice Again button

## ğŸ“š Documentation

- **[b7610111]** docs: remove E2E testing content and move database config to CICD.md
- **[e34a0461]** docs: simplify TypeScript error fix guidelines in CLAUDE.md
- **[a7aca462]** docs: slim down CLAUDE.md by removing redundant content
- **[eca27434]** docs: split CI/CD content from CLAUDE.md to CICD.md
- **[2878a34c]** docs: integrate PRD content from CLAUDE.md
- **[feead6d1]** docs: rename deployment guides to shorter names
- **[1e8fd545]** docs: shrink CLAUDE.md by extracting duplicates; point to PRD, unified-learning-architecture, CICD, and local-deployment-guide
- **[b1d12ef1]** docs: deduplicate and consolidate CLAUDE.md; move Cloud SQL deployment details to CICD.md; compress architecture sections

## ğŸ”§ Refactor & Chore

- **[c3ecff58]** refactor: consolidate CI/CD into single staging deployment workflow
- **[0d0e0b26]** refactor: optimize pre-commit and pre-push hooks for better DX
- **[c785ac98]** refactor: replace npm scripts with direct commands in CI/CD
- **[ea990395]** refactor: optimize git hooks for better developer experience
- **[64d9659b]** chore: remove redundant workflow files
- **[d81e745a]** chore: consolidate workflows and remove redundant files
- **[732a690f]** chore: trigger redeployment with clean database for staging
- **[a75edc34]** chore: trigger deployment after properly dropping staging Cloud SQL database
- **[fdbdcac6]** chore: test migration after database reset
- **[60bb0ffa]** chore: trigger CI/CD to rebuild staging database
- **[61eaef64]** chore: trigger rebuild after cleaning production database
- **[943cb151]** chore: disable unit tests in pre-commit for faster pushing (CI/CD will handle)
- **[bb3bc1af]** chore: test CI/CD after fixing DB_HOST secrets
- **[75f5b3cb]** chore: trigger CI/CD to test fixes
- **[7b954a79]** chore: add SMTP secrets to GitHub and clean up test files
- **[a9010d72]** chore(email): wire SMTP into CI deploy (staging/prod) via secrets; update secrets check; configure mailer to handle Gmail app password
- **[3d4fe90d]** chore: remove project status and performance budget from git tracking
- **[8c573a81]** chore: remove .husky in favor of pre-commit
- **[03472c53]** chore: pin Node 20 via .nvmrc and update CI workflow to Node 20
- **[d86073fc]** chore: clean up and organize frontend directory
- **[6afb4aee]** chore: remove temporary debug-task API endpoint

## ğŸ“¦ Other

- **[e95cf185]** ci: add simplified staging deployment workflow
- **[6a6e4f77]** ci: reorganize GitHub workflows - focus on staging only
- **[6ff388c7]** perf: run schema validation in parallel to speed up deployment
- **[5029b917]** critical: fix VERTEX_AI_LOCATION in vertex-ai-service.ts + test updates
- **[ac3fbc45]** ci: add Vertex AI permissions auto-configuration to CI/CD
- **[02cffae8]** åˆªé™¤å¤šå€‹æ¸¬è©¦ç›¸é—œæª”æ¡ˆä»¥ç°¡åŒ–å°ˆæ¡ˆçµæ§‹
- **[776da512]** Revert "fix: remove View Report button from PBL task page header"
- **[ae164394]** optimize: fine-tune git hooks for practical use
- **[2b265a1b]** optimize: improve pre-push hook and add Makefile for quick checks
- **[30bcc877]** debug: add detailed logging to track completion API fetch errors in staging
- **[47db1ddd]** æ–°å¢åˆ†æ”¯éƒ¨ç½²ç­–ç•¥èˆ‡å®‰å…¨è€ƒé‡ï¼Œæ›´æ–°è‡ªå‹•éƒ¨ç½²å·¥ä½œæµç¨‹
- **[2ffb952b]** åˆªé™¤å¤šå€‹ä¸å†ä½¿ç”¨çš„æª”æ¡ˆä»¥ç°¡åŒ–å°ˆæ¡ˆçµæ§‹
- **[c66a3829]** åˆªé™¤éæ™‚çš„æ¸¬è©¦å ±å‘Šå’Œ PR æ¨¡æ¿æ–‡ä»¶
- **[2a99d250]** perf: identify CRITICAL Cloud Run cost issue and fix register test
- **[1bcf00d3]** debug: add endpoint to check task database data
- **[eda816d0]** debug: add logging to task API to diagnose taskTemplate issue on staging

---

*Generated from git commits for week ending 2025-09-12*
