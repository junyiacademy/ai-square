<!DOCTYPE html>
<html>
<head>
    <title>Debug Auth State</title>
</head>
<body>
    <h1>Debug Auth State</h1>
    
    <h2>Cookies:</h2>
    <pre id="cookies"></pre>
    
    <h2>LocalStorage:</h2>
    <pre id="localStorage"></pre>
    
    <h2>API Check:</h2>
    <pre id="apiCheck"></pre>
    
    <script>
        // Display cookies
        document.getElementById('cookies').textContent = document.cookie;
        
        // Display localStorage
        const storage = {};
        for (let i = 0; i < localStorage.length; i++) {
            const key = localStorage.key(i);
            storage[key] = localStorage.getItem(key);
        }
        document.getElementById('localStorage').textContent = JSON.stringify(storage, null, 2);
        
        // Test API call
        fetch('/api/auth/check', { credentials: 'include' })
            .then(res => res.json())
            .then(data => {
                document.getElementById('apiCheck').textContent = JSON.stringify(data, null, 2);
            })
            .catch(err => {
                document.getElementById('apiCheck').textContent = 'Error: ' + err.message;
            });
    </script>
</body>
</html>